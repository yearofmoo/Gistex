<!DOCTYPE html> 
<html lang="en"> 
<head> 
<title>Github</title> 
</head> 

<body> 
<div id="wrapper">
  <div id="container">
    Click link to load gist
  </div>
  <a href="#" id="a">Load</a>
</div>
<script type="text/javascript" src="../Source/Gistex.js"></script>
<script type="text/javascript">

  var a = document.getElementById('a');
  a.addEventListener('click',function(event) {
    event.preventDefault();
    var container = document.getElementById('container');
    var src = 'https://gist.github.com/1489384.js?file=gistfile1.rb';
    var gh = new Gistex(container,src,{
      onReady : function() {
        alert('ready');
      },
      onLoading : function() {
        container.innerHTML = '<img src="../Source/loading.gif" /> loading...';
      }
    });

    gh.load();
  });

</script>
<script type="text/javascript">
(function() {
  //this is only here for yearofmoo.com; ignore this line in your code
  var url = new String(window.location);
  if(url.indexOf('yearofmoo.com')>0) {
    var yom = document.createElement('script'); yom.type = 'text/javascript'; yom.async = true;
    yom.src = '/demos/javascripts/yom-bar.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(yom, s);
  }
})();
</script>
</body>
</html> 
